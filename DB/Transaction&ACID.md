# 트랜잭션이 무엇이고, ACID 원칙에 대해 설명해 주세요

### 트랜잭션이란?

- 데이터베이스의 상태를 변화시키기 위해 수행하는 작업 단위
    - 상태를 변화시킨다는 것은?
        - 쿼리를 통해 DB에 접근
    - 작업 단위란?
        - 많은 쿼리를 사람이 정하는 기준에 따라 정하는 것
            - 송금시 → 차감 및 추가

## ACID 원칙

### 트랜잭션의 특징

- Atomicity 원자성
    - 트랜잭션이 DB에 모두 반영되거나, 반영되지 않아야함
- Consistency 일관성
    - 트랜잭션의 작업 처리 결과는 항상 일관성 있어야 한다
- Isolation 독립성
    - 둘 이상의 트랜잭션이 동시에 병행 실행되고 있을 때, 어떤 트래잭션도 다른 트랜잭션 연산에 끼어들 수 없다
- Durability 지속성
    - 트랜잭션이 성공적으로 완료되었으면, 결과는 영구적으로 반영되어야 한다

### DBMS가 지속성을 어떻게 보장할까요?

- Write-Ahead Logging을 통해 실제 DB에 적용하기 전에 로그 파일에 기록
- Checkpoint
    - 주기적으로 체크포인트를 생성
- Redo Logs
    - 트랜잭션 커밋 시 변경 내용을 redo log에 기록
- Replication
    - 데이터를 여러 서버에 복제하여 장애 시에도 다른 복제본에서 데이터를 복구
- Crash Recovery
    - DB가 재시작되면 로그 파일과 체크포인트를 기반으로 미완료 트랜잭션을 롤백하고 완료된 트랜잭션을 적용

### 읽기 작업에도 트랜잭션을 걸어야 할까요?

- 일관된 스냅샷을 보장해야 하는 경우 - 데이터의 정확성
- 읽기 후 쓰기 작업이 연결된 경우
- 다중 읽기 작업이 일관성을 유지해야 하는 경우
